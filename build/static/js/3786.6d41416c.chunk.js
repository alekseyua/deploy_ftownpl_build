"use strict";(self.webpackChunkftownpl=self.webpackChunkftownpl||[]).push([[3786],{3786:function(t,o,n){n.r(o);var r=n(4942),e=n(1413),c=n(9439),a=n(2791),u=n(5378),_=n(9044),d=n(1694),i=n.n(d),l=n(8799),s=n(8478),p=n(7689),b=(n(1349),n(7997),n(921),n(184)),f=(0,u.Z)((function(){return n.e(7907).then(n.bind(n,7907))}));o.default=function(t){var o=t.in_stock_count,n=t.is_collection,u=t.in_cart_count,d=t.is_in_stock,g=t.productId,h=t.modalView,m=t.role,x=t.url,Z=(0,s.bI)().dispatch,k=(0,a.useState)(u),C=(0,c.Z)(k,2),v=C[0],w=C[1],T=(0,a.useState)(!1),I=(0,c.Z)(T,2),y=I[0],B=I[1],S=(0,p.s0)(),P=(0,a.useState)({red:!1,green:!1}),R=(0,c.Z)(P,2),j=R[0],E=R[1];(0,a.useEffect)((function(){d?(B(o<1),B(!(o>u))):B(!1)}),[d,o,u]);var L=function(){return Z("setModalState",{show:!1}),!0};(0,a.useEffect)((function(){u!==v&&w(u)}),[u]);var M=(0,a.useState)("prodpage-control-buttons__indicator"),V=(0,c.Z)(M,2),W=V[0],q=V[1];(0,a.useEffect)((function(){var t,o=i()((t={},(0,r.Z)(t,l.Z["prodpage-control-buttons__indicator--color__red"],j.red),(0,r.Z)(t,l.Z["prodpage-control-buttons__indicator--color__green"],j.green),t));q(o)}),[j.red,j.green]);return(0,b.jsx)(f,{linkToProductPage:function(t,o){return o?(0,b.jsx)(_.default,{href:"/".concat(t),full:!0,variant:"catalog-link-transparent__modal",onClick:L,children:"\u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0442\u043e\u0432\u0430\u0440\u0430"}):null},addToCartProduct:function(t,o,n){E(1===t?function(t){return(0,e.Z)((0,e.Z)({},t),{},{red:!1,green:!0})}:function(t){return(0,e.Z)((0,e.Z)({},t),{},{red:!0,green:!1})});return Z("addToCart",{productId:n,count:t,modalView:o,redirectTo:function(t){var o=setTimeout((function(){return S(t),function(){return clearTimeout(o)}}),100)}}),!o||L()},stateInStockeBtn:y,in_cart_count:u,colorBtnClick:W,is_collection:n,countInBtn:v,modalView:h,closeModal:L,productId:g,cloneCart:function(t){var o,n=(o=t.target.children[0]?t.target.children[0]:t.target.offsetParent.children[0].children[1].firstChild).cloneNode(!0),r=o.style.backgroundImage,e=o.offsetWidth,c=o.offsetHeight,a=o.getBoundingClientRect().top,u=o.getBoundingClientRect().left;n.classList.add("_flyImage"),n.style.cssText="\n        left: ".concat(u,"px;\n        top:  ").concat(a,"px;\n        width: ").concat(e,"px;\n        height: ").concat(c,"px;\n      "),document.body.append(n);var _=document.querySelector("#cart-id"),d=_.getBoundingClientRect().top,i=_.getBoundingClientRect().left;n.style.cssText="\n        left: ".concat(i,"px;\n        top:  ").concat(d,"px;\n        background-image: ").concat(r,";\n        width: 0px;\n        height: 0px;\n        opacity: 0;\n        transform: scale(.5)\n      ");var l=setTimeout((function(){return n.remove(),function(){return clearTimeout(l)}}),4e3)},role:m,url:x})}},8799:function(t,o){o.Z={"prodpage-control-buttons__container":"controlbuttons_prodpage-control-buttons__container__OdmYl","prodpage-control-buttons__add-to-cart-container":"controlbuttons_prodpage-control-buttons__add-to-cart-container__Muj0p","prodpage-control-buttons__add-to-cart-container--fierst":"controlbuttons_prodpage-control-buttons__add-to-cart-container--fierst__psbTJ","prodpage-control-buttons__descrement-button":"controlbuttons_prodpage-control-buttons__descrement-button__hfezn","prodpage-control-buttons__increment-button":"controlbuttons_prodpage-control-buttons__increment-button__pXWxA","prodpage-control-buttons__info-in-cart":"controlbuttons_prodpage-control-buttons__info-in-cart__cbKht","prodpage-control-buttons__fierst-add-to-cart":"controlbuttons_prodpage-control-buttons__fierst-add-to-cart__qL6Rj","prodpage-control-buttons__inner-button":"controlbuttons_prodpage-control-buttons__inner-button__ws4Z9","prodpage-control-buttons__text-button":"controlbuttons_prodpage-control-buttons__text-button__dLand","prodpage-control-buttons__indicator":"controlbuttons_prodpage-control-buttons__indicator__tPvCr","prodpage-control-buttons__indicator--color__red":"controlbuttons_prodpage-control-buttons__indicator--color__red__9+w8X",slidertimer:"controlbuttons_slidertimer__+KeWY"}}}]);
//# sourceMappingURL=3786.6d41416c.chunk.js.map